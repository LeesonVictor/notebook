# 原型

标签: 原型 原型链 prototype  \_\_proto\_\_

---

## 作用

实现面向对象中的继承。  
当访问一个对象的属性时，**JavaScript引擎**先在当前对象上查找该属性，如果没有找到，就到其原型对象上找，如果还没有找到，就一直上溯到Object.prototype对象，最后，如果还没有找到，就只能返回undefined。

## 构造函数

除了{...}创建函数外，还可以通过构造函数生成对象。

```javascript

function Student(name) {
    this.name = name;
    this.hello = function () {
        alert('Hello, ' + this.name + '!');
    } //这种写法会使每个实例都copy一份这个方法
}
Student.prototype.run = function () {
    alert(this.name + ' run!');
};//放在原型对象中，生成的实例都公用一个方法
var xiaoming = new Student('小明');
xiaoming.name; // '小明'
xiaoming.hello(); // Hello, 小明!

```

**注意**：当通过new 调用构造函数时，函数里的this指向new出的对象。当仅当作普通函数调用时，this指向函数调用上下文对象（例如 a.Student()则指向a，Student()则指向window）

- 构造函数里不用写return，默认返回this。（若普通函数不写return，默认返回undefined）
- 构造函数一般首字母大写。这样当漏写new时，语法检查工具可以检测到。
- 构造函数有prototype属性，且指向该构造函数生成实例的原型对象，所有对象都有\_\_proto\_\_属性，指向该实例的原型对象，但获取原型对象上属性时无需通过 `对象.__proto__.属性名`  来获取(也不建议，因为IE等部分浏览器中并不存在\_\_proto\_\_属性，)，因为js引擎自动会搜索原型链上的属性。
- 原型对象有个constructor指向构造函数,构造函数的prototype指向原型对象（双向引用）
- 原型对象是存放单例公用方法、属性的地方。new多个对象也只有一份。

![https://github.com/LeesonVictor/notebook/blob/master/images/%E5%9B%BE%E7%89%87/%E5%8E%9F%E5%9E%8B.png?raw=true](https://github.com/LeesonVictor/notebook/blob/master/images/%E5%9B%BE%E7%89%87/%E5%8E%9F%E5%9E%8B.png?raw=true)

## 实现继承

